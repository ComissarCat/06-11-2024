@page
@model IndexModel

<div class="row mt-3">
	<div class="col-6 offset-3">
		<form action="/" method="get">
			<div class="row">
				<div class="col-9">
					<input type="text" name="search" class="form-control w-100" placeholder="Введите название для поиска" />
				</div>
				<div class="col-3">
					<input type="submit" value="Найти" class="btn btn-primary w-100" />
				</div>
			</div>
		</form>
		@if (!Model.fullList)
		{
			<div class="row mt-3">
				<a asp-page="Index">Вернуться к полному списку</a>
			</div>
		}
		<table class="table table-striped table-bordered mt-3">
			<thead>
				<tr>
					<th scope="col">Название</th>
					<th scope="col">Список сеансов</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var f in Model.films)
				{
					<tr>
						<td><a asp-page="Film" , asp-route-id="@f.Id">@f.Name</a></td>
						<td>
							@if (f.Sessions is not null)
								@foreach (var s in f.Sessions)
								{
									<div>@s.Date.ToShortDateString()</div>
								}
						</td>
					</tr>
				}
			</tbody>
		</table>
		<div class="row mt-3">
			<a asp-page="Edit" asp-route-id=0>Добавить</a>
		</div>
	</div>
</div>
